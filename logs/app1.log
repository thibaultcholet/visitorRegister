{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:37:30","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:37:30","visitorData":{"email":"ratetest7@example.com","nom":"TestUser7","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest7@example.com","nom":"TestUser7","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:37:30","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:37:30","visitorData":{"email":"ratetest8@example.com","nom":"TestUser8","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest8@example.com","nom":"TestUser8","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:37:30","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:37:30","visitorData":{"email":"ratetest9@example.com","nom":"TestUser9","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest9@example.com","nom":"TestUser9","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/check-in"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:37:30","url":"/api/check-in"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/welcome-message"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/welcome-message"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/welcome-message"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/health"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/style.css"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/config"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/public"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.214Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/welcome-message"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.224Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.227Z","updates":{"welcomeMessage":"Bienvenue dans notre entreprise !"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/welcome-message"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.237Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/welcome-message"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.245Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:37:30.247Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:37:30"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.254Z","updates":{"welcomeMessage":"Nouveau message d'accueil !"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:37:30","updates":["welcomeMessage"]}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/config"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/welcome-message"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.262Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.266Z","updates":{"welcomeMessage":"Message persistant"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.269Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T20:37:30.269Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:37:30"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 22:37:30"}
{"duration":"17ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/welcome-message"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.273Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:37:30.273Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:37:30"}
{"filePath":"/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/data/config.json","level":"warn","message":"Fichier vide détecté","service":"visitor-management","timestamp":"2025-07-18 22:37:30"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.276Z","updates":{"welcomeMessage":"Bienvenue ! Éléments spéciaux : à, é, ç, ñ, ü - 123 & @"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:37:30","updates":["welcomeMessage"]}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/config"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T20:37:30.277Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:37:30"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 22:37:30"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/welcome-message"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:37:30.282Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:37:30"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:37:30"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.285Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:37:30","updates":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}}
{"body":{"newPin":"123"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/change-pin"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/change-pin"}
{"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:37:30","updates":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}}
{"body":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/config"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/config"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:37:30.294Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:37:30"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.296Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:37:30"}
{"body":{"newPin":"1234567"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/change-pin"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/change-pin"}
{"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:37:30","updates":{"welcomeMessage":""}}
{"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:37:30","updates":{"welcomeMessage":""}}
{"body":{"welcomeMessage":""},"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: \"welcomeMessage\" is not allowed to be empty\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/config"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/config"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:37:30.303Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:37:30"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.303Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:37:30"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:37:30.305Z","updates":{"welcomeMessage":"Message pour test complet"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:37:30","userContext":{}}
{"body":{"newPin":"12a4"},"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN ne peut contenir que des chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/config"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:37:30.310Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:37:30"}
{"error":"Le nouveau code PIN est requis","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:37:30"}
{"body":{},"error":"Le nouveau code PIN est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le nouveau code PIN est requis\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:99:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:37:30","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:37:30.314Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:37:30"}
{"action":"visitor_checkin","details":{"email":"jean.martin@test.com","societe":"Test Corp","visitorId":"d76990cb-9565-449f-9df5-599f94324f3a"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:50","userContext":{}}
{"email":"jean.martin@test.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Test Corp","timestamp":"2025-07-18 22:39:50","visitorId":"d76990cb-9565-449f-9df5-599f94324f3a"}
{"duration":"28ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:39:50","url":"/api/check-in"}
{"error":"Données invalides: \"email\" is required, \"personneVisitee\" is required","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:39:50","visitorData":{"nom":"Martin","prenom":"Jean"}}
{"body":{"nom":"Martin","prenom":"Jean"},"error":"Données invalides: \"email\" is required, \"personneVisitee\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required, \"personneVisitee\" is required\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/check-in"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:39:50","url":"/api/check-in"}
{"action":"visitor_checkout","details":{"email":"jean.martin.checkout@test.com","visitorId":"test-uuid-checkout"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:50","userContext":{}}
{"dureeVisite":"0h 0m","email":"jean.martin.checkout@test.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:39:50","visitorId":"test-uuid-checkout"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/check-out"}
{"email":"inexistant@test.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"body":{"email":"inexistant@test.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:39:50","url":"/api/check-out"}
{"checkOutData":{},"error":"Données invalides: \"email\" is required","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"body":{},"error":"Données invalides: \"email\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:39:50","url":"/api/check-out"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T20:39:50.613Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:39:50"}
{"level":"info","message":"Authentification PIN réussie","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/login"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T20:39:50.616Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":false,"timestamp":"2025-07-18 22:39:50"}
{"error":"Code PIN incorrect","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"body":{"pin":"000000"},"error":"Code PIN incorrect","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN incorrect\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:76:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:20","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/login"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":401,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/login"}
{"error":"Le code PIN est requis","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"body":{},"error":"Le code PIN est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN est requis\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:70:15)\n    at authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/login"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/login"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T20:39:50.627Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:39:50"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/change-pin"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"body":{"newPin":"123"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/change-pin"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"body":{"newPin":"1234567"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/change-pin"}
{"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"body":{"newPin":"12ab"},"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN ne peut contenir que des chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/change-pin"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:50","userContext":{}}
{"level":"warn","message":"Tous les visiteurs ont été supprimés (fonction de debug)","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/clear-visitors"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/stats"}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/config"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:39:50.856Z","updates":{"anonymizationDays":60,"welcomeMessage":"Nouveau message"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:50","userContext":{}}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:39:50","updates":["welcomeMessage","anonymizationDays"]}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/config"}
{"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:39:50","updates":{"anonymizationDays":0}}
{"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:39:50","updates":{"anonymizationDays":0}}
{"body":{"anonymizationDays":0},"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: Le nombre de jours doit être au moins 1\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/config"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/config"}
{"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:39:50","updates":{"welcomeMessage":123}}
{"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:39:50","updates":{"welcomeMessage":123}}
{"body":{"welcomeMessage":123},"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: \"welcomeMessage\" must be a string\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/config"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/config"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:50","userContext":{}}
{"level":"warn","message":"Tous les visiteurs ont été supprimés (fonction de debug)","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/clear-visitors"}
{"action":"visitors_anonymized","details":{"anonymizationDays":30,"anonymizedCount":1},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:50","userContext":{}}
{"anonymizationDays":30,"anonymizedCount":1,"level":"info","message":"Anonymisation des visiteurs terminée","service":"visitor-management","timestamp":"2025-07-18 22:39:50"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/anonymize"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/welcome-message"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/visitors/current"}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:50","url":"/api/admin/visitors/history"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"03ae5a5c-c36d-4fd6-b1cc-283fd69bdb16"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/admin/visitors/current"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"accc2e35-8f04-4333-84f9-a460a8c4689d"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test2@example.com","societe":null,"visitorId":"27a2b580-e0dc-4ecb-847f-358099b94735"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/admin/visitors/current"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"52d2c660-21f0-4587-8c5e-fbe7d195a424"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"52d2c660-21f0-4587-8c5e-fbe7d195a424"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:39:58","visitorId":"52d2c660-21f0-4587-8c5e-fbe7d195a424"}
{"duration":"17ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"4a1cf668-4f7b-434d-99e4-a079bcc123e1"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"email":"inexistant@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:39:58"}
{"body":{"email":"inexistant@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"e7eb6b33-3153-4de3-b8d1-ba7ea4bf9e8f"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"checkOutData":{},"error":"Données invalides: \"email\" is required","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:39:58"}
{"body":{},"error":"Données invalides: \"email\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"047e2a6a-267f-40ef-9824-8b6ceea6bdf9"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/admin/visitors/current"}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"047e2a6a-267f-40ef-9824-8b6ceea6bdf9"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:39:58","visitorId":"047e2a6a-267f-40ef-9824-8b6ceea6bdf9"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/admin/visitors/current"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/admin/visitors/history"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"645468c6-8a30-47c5-a967-45d37de6e825"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sansociete@example.com","societe":null,"visitorId":"be132a25-6900-4f53-b33e-e7a5405e7daf"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/admin/visitors/current"}
{"action":"visitor_checkout","details":{"email":"sansociete@example.com","visitorId":"be132a25-6900-4f53-b33e-e7a5405e7daf"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"dureeVisite":"0h 0m","email":"sansociete@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:39:58","visitorId":"be132a25-6900-4f53-b33e-e7a5405e7daf"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/admin/visitors/history"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"ee8a3d4c-653a-4b65-b28f-0da825d6bad4"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"ee8a3d4c-653a-4b65-b28f-0da825d6bad4"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:39:58","visitorId":"ee8a3d4c-653a-4b65-b28f-0da825d6bad4"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"email":"test@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:39:58"}
{"body":{"email":"test@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"7bdaae8f-10ef-4830-9686-201aef683520"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"checkOutData":{"email":"email-invalide"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:39:58"}
{"body":{"email":"email-invalide"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: L'adresse email n'est pas valide\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"7ba2e2a2-6f28-4b32-a511-880a4c6aa364"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"checkOutData":{"email":""},"error":"Données invalides: \"email\" is not allowed to be empty","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:39:58"}
{"body":{"email":""},"error":"Données invalides: \"email\" is not allowed to be empty","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is not allowed to be empty\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"b3cfaf38-9a72-412c-b154-7df646fc3607"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/admin/stats"}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"b3cfaf38-9a72-412c-b154-7df646fc3607"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:39:58","visitorId":"b3cfaf38-9a72-412c-b154-7df646fc3607"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/check-out"}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:39:58","url":"/api/admin/stats"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:39:58","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin.test1234@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"105f43a0-918e-48c3-9d75-765a34df5741"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"email":"jean.martin.test1234@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 22:40:04","visitorId":"105f43a0-918e-48c3-9d75-765a34df5741"}
{"duration":"18ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:04","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.freelance.test1234@gmail.com","societe":null,"visitorId":"d6ede59c-f911-4e1e-9bfd-96ef73d3b2a0"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"email":"sophie.freelance.test1234@gmail.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:40:04","visitorId":"d6ede59c-f911-4e1e-9bfd-96ef73d3b2a0"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:04","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"paul.independant.test1234@outlook.com","societe":null,"visitorId":"3e5c6f56-dcf7-4e16-ab16-016867c01de6"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"email":"paul.independant.test1234@outlook.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:40:04","visitorId":"3e5c6f56-dcf7-4e16-ab16-016867c01de6"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:04","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:04","visitorData":{"email":"email-invalide","nom":"Test","personneVisitee":"Test Manager","prenom":"Invalid","societe":"Test Company","telephone":"06 12 34 56 78"}}
{"body":{"email":"email-invalide","nom":"Test","personneVisitee":"Test Manager","prenom":"Invalid","societe":"Test Company","telephone":"06 12 34 56 78"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: L'adresse email n'est pas valide\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:04","url":"/api/check-in"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:04","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"error":"Données invalides: \"nom\" is required","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:04","visitorData":{"email":"test@example.com","personneVisitee":"Test Manager","prenom":"Test","societe":"Test Company","telephone":"06 12 34 56 78"}}
{"body":{"email":"test@example.com","personneVisitee":"Test Manager","prenom":"Test","societe":"Test Company","telephone":"06 12 34 56 78"},"error":"Données invalides: \"nom\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"nom\" is required\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:04","url":"/api/check-in"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:04","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"be462c58-93f1-4dfe-87a7-d51795a4a5a6"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"afec8fac-6a4e-4139-ac81-70d7bc16ba01"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"9c456144-ce65-4872-a8fd-c24c1ab9c787"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"count":3,"daysBack":7,"generated":3,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 22:40:04"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:04","url":"/api/admin/generate-test-visitors"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"dbd36ad9-b797-4f28-85cd-167e73f88dd9"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"09dd1e3d-83a2-45b1-a1b1-24cc009ba5ce"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"e5aafad7-69fd-44d0-8cb2-a9588a8adc34"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"maria.garcia@globalservicesinc.com","societe":"Global Services Inc","visitorId":"539bb435-e19a-4eee-b227-a9f216a12a86"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"alexandre.durand@startup360.com","societe":"StartUp360","visitorId":"b2fb4ca0-4c7d-4c8c-adfb-0573724f7966"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"claire.dubois@consultingpro.com","societe":"Consulting Pro","visitorId":"6aa2569e-629b-421a-8ddf-6cf224f6b243"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"nicolas.moreau@webagencyplus.com","societe":"WebAgency Plus","visitorId":"d7aa63d3-0f53-4d8a-bcf7-5ff2a7965dd4"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"lisa.bernard@designstudio.com","societe":"Design Studio","visitorId":"1d475abe-1b4a-4d3e-a523-777bc7686513"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"david.petit@mobileappsco.com","societe":"Mobile Apps Co","visitorId":"e81d2c3c-cd9a-454d-9ed0-ca7a0b8e33da"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"emma.roux@cloudsystems.com","societe":"Cloud Systems","visitorId":"8ad766fc-6518-4cfd-8df1-6ec0b26af1f5"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"count":10,"daysBack":90,"generated":10,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 22:40:04"}
{"duration":"11ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:04","url":"/api/admin/generate-test-visitors"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"e153f378-b892-4310-a116-5abe63a8e3f2"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"count":1,"daysBack":1,"generated":1,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 22:40:04"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:04","url":"/api/admin/generate-test-visitors"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin.test1752871204866@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"f63fe378-8c2d-479e-9d22-cead6fcade93"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"email":"jean.martin.test1752871204866@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 22:40:04","visitorId":"f63fe378-8c2d-479e-9d22-cead6fcade93"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:04","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin.test@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"42e7226a-ed8a-480c-97fd-39799753a85e"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"email":"jean.martin.test@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 22:40:04","visitorId":"42e7226a-ed8a-480c-97fd-39799753a85e"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:04","url":"/api/check-in"}
{"action":"visitor_checkin","details":{"email":"sophie.freelance.test@gmail.com","societe":null,"visitorId":"67e66695-9bf8-4d45-85c2-118e622292c2"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"email":"sophie.freelance.test@gmail.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:40:04","visitorId":"67e66695-9bf8-4d45-85c2-118e622292c2"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:04","url":"/api/check-in"}
{"action":"visitor_checkin","details":{"email":"paul.independant.test@outlook.com","societe":null,"visitorId":"f028ec40-0d81-4736-b1ed-1b79df3f7d4f"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"email":"paul.independant.test@outlook.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:40:04","visitorId":"f028ec40-0d81-4736-b1ed-1b79df3f7d4f"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:04","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:04","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227186-634714534.png","timestamp":"2025-07-18T20:40:27.209Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227186-634714534.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"32ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.234Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"body":{},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:137:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at multerMiddleware (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"16ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"ddd0a592-1083-415e-8897-506e7f5faf75"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"18ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"body":{},"error":"Seuls les fichiers image (jpeg, jpg, png, gif, svg) sont autorisés","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"Error: Seuls les fichiers image (jpeg, jpg, png, gif, svg) sont autorisés\n    at fileFilter (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/routes/configRoutes.js:31:6)\n    at wrappedFileFilter (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:123:7)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:248:10)\n    at SBMH.push (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Multipart.Writable.write (node:internal/streams/writable:510:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:1009:22)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:782:10)\n    at flow (node:internal/streams/readable:1283:53)\n    at resume_ (node:internal/streams/readable:1262:3)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"20ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"duration":"20ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"duration":"20ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"duration":"23ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"duration":"30ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"duration":"30ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"duration":"30ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"duration":"30ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/visitors/current"}
{"filePath":"/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/data/config.json","level":"warn","message":"Fichier vide détecté","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"36ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227251-468714092.png","timestamp":"2025-07-18T20:40:27.267Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.269Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227251-468714092.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"23ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"69e814c7-c505-4a81-955a-88b19d4c7530"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test2@example.com","societe":null,"visitorId":"2d2e6110-167b-4faa-93ea-f3e130d072de"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"body":{},"error":"File too large","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"MulterError: File too large\n    at abortWithCode (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:85:22)\n    at FileStream.<anonymous> (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:150:11)\n    at FileStream.emit (node:events:518:28)\n    at SBMH.ssCb [as _cb] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:248:10)\n    at SBMH.push (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Multipart.Writable.write (node:internal/streams/writable:510:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:1009:22)\n    at IncomingMessage.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:392:5)\n    at HTTPParser.parserOnBody (node:_http_common:129:24)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"20ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/visitors/current"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.281Z","updates":{"welcomeMessage":"Bienvenue dans notre entreprise !"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"body":{},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:137:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at ConfigController.fn [as updateLogo] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:209:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:103:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/json.js:122:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:152:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"f7c92220-bc28-43ce-b96e-ecd27e1c9f3a"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:137:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at multerMiddleware (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"12ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"body":{"some":"data"},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:137:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at multerMiddleware (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.297Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227298-320672701.jpg","timestamp":"2025-07-18T20:40:27.308Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227298-320672701.jpg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"12ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"f7c92220-bc28-43ce-b96e-ecd27e1c9f3a"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorId":"f7c92220-bc28-43ce-b96e-ecd27e1c9f3a"}
{"duration":"29ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.317Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227315-297420714.png","timestamp":"2025-07-18T20:40:27.318Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227315-297420714.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"action":"visitor_checkin","details":{"email":"jean.martin@test.com","societe":"Test Corp","visitorId":"2eaf4a8a-13f1-4cf7-895b-a21f2b16eeee"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"0de1f921-d3bd-4b81-ad9b-08997ab5bfc2"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"email":"jean.martin@test.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Test Corp","timestamp":"2025-07-18 22:40:27","visitorId":"2eaf4a8a-13f1-4cf7-895b-a21f2b16eeee"}
{"duration":"49ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"email":"inexistant@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227327-227270753.png","timestamp":"2025-07-18T20:40:27.329Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.329Z","updates":{"welcomeMessage":"Nouveau message d'accueil !"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227327-227270753.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27","updates":["welcomeMessage"]}
{"duration":"9ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"body":{"email":"inexistant@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"error":"Données invalides: \"email\" is required, \"personneVisitee\" is required","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"nom":"Martin","prenom":"Jean"}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"c384cd3b-6217-4eac-988c-d85db0020876"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227334-973827742.png","timestamp":"2025-07-18T20:40:27.337Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227334-973827742.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"body":{"nom":"Martin","prenom":"Jean"},"error":"Données invalides: \"email\" is required, \"personneVisitee\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required, \"personneVisitee\" is required\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227329-971949782.png","timestamp":"2025-07-18T20:40:27.339Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"checkOutData":{},"error":"Données invalides: \"email\" is required","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{},"error":"Données invalides: \"email\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"level":"info","logoPath":"/images/logo-1752871227329-971949782.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"14ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkout","details":{"email":"jean.martin.checkout@test.com","visitorId":"test-uuid-checkout"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"dureeVisite":"0h 0m","email":"jean.martin.checkout@test.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorId":"test-uuid-checkout"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"ecb6fd9a-2290-4443-b50e-b961c1e8f160"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.352Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/visitors/current"}
{"email":"inexistant@test.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"inexistant@test.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.355Z","updates":{"welcomeMessage":"Message persistant"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"email":"test0@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"ecb6fd9a-2290-4443-b50e-b961c1e8f160"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"checkOutData":{},"error":"Données invalides: \"email\" is required","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorId":"ecb6fd9a-2290-4443-b50e-b961c1e8f160"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"body":{},"error":"Données invalides: \"email\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.358Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/visitors/current"}
{"body":{"email":"test0@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"47ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"email":"test5@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"test5@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"16ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"email":"test1@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"test1@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"22ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"email":"test4@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"test4@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"19ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"email":"test6@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"test6@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"14ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"email":"test2@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"test2@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"email":"test3@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"test3@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T20:40:27.366Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:40:27"}
{"level":"info","message":"Authentification PIN réussie","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/login"}
{"email":"test9@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"test9@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"10ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"email":"test8@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"test8@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"12ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"email":"test7@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"test7@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"14ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/visitors/history"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T20:40:27.372Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":false,"timestamp":"2025-07-18 22:40:27"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"957e44b9-0a44-4884-983c-e5493196f7c4"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227356-58087818.png","timestamp":"2025-07-18T20:40:27.376Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sansociete@example.com","societe":null,"visitorId":"7dd46464-e2b0-4212-88d9-1420688a2ab8"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227356-58087818.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"error":"Code PIN incorrect","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"pin":"000000"},"error":"Code PIN incorrect","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN incorrect\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:76:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:20","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/login"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":401,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/login"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/visitors/current"}
{"error":"Le code PIN est requis","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{},"error":"Le code PIN est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN est requis\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:70:15)\n    at authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/login"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/login"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.381Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkout","details":{"email":"sansociete@example.com","visitorId":"7dd46464-e2b0-4212-88d9-1420688a2ab8"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"dureeVisite":"0h 0m","email":"sansociete@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorId":"7dd46464-e2b0-4212-88d9-1420688a2ab8"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/visitors/history"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227383-79207995.png","timestamp":"2025-07-18T20:40:27.385Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.387Z","updates":{"welcomeMessage":"Bienvenue ! Éléments spéciaux : à, é, ç, ñ, ü - 123 & @"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T20:40:27.387Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:40:27"}
{"level":"info","logoPath":"/images/logo-1752871227383-79207995.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27","updates":["welcomeMessage"]}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"90671d75-f8a7-4784-bcf9-dbb97b46ceb1"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"90671d75-f8a7-4784-bcf9-dbb97b46ceb1"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorId":"90671d75-f8a7-4784-bcf9-dbb97b46ceb1"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"newPin":"123"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"email":"test@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.394Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"body":{"email":"test@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"ratetest0@example.com","nom":"TestUser0","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"newPin":"1234567"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:40:27","updates":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}}
{"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227397-961304398.png","timestamp":"2025-07-18T20:40:27.401Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227397-961304398.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"bfc61151-081a-4c1a-89e3-e1bf26291a60"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"body":{"newPin":"12ab"},"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN ne peut contenir que des chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"checkOutData":{"email":"email-invalide"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"email-invalide"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: L'adresse email n'est pas valide\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:40:27","updates":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}}
{"body":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"duration":"11ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"warn","message":"Tous les visiteurs ont été supprimés (fonction de debug)","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/clear-visitors"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"fdedd325-ec20-42ff-b970-0f85bb89f383"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.417Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"checkOutData":{"email":""},"error":"Données invalides: \"email\" is not allowed to be empty","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"email":""},"error":"Données invalides: \"email\" is not allowed to be empty","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is not allowed to be empty\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:40:27","updates":{"welcomeMessage":""}}
{"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:40:27","updates":{"welcomeMessage":""}}
{"body":{"welcomeMessage":""},"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: \"welcomeMessage\" is not allowed to be empty\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"76a76478-f17b-4154-9780-cdf9e48bb15b"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/stats"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.428Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"body":{"email":"ratetest0@example.com","nom":"TestUser0","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"11ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"ratetest1@example.com","nom":"TestUser1","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest1@example.com","nom":"TestUser1","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"ratetest2@example.com","nom":"TestUser2","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest2@example.com","nom":"TestUser2","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"ratetest3@example.com","nom":"TestUser3","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest3@example.com","nom":"TestUser3","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"ratetest4@example.com","nom":"TestUser4","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest4@example.com","nom":"TestUser4","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"ratetest5@example.com","nom":"TestUser5","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest5@example.com","nom":"TestUser5","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"ratetest6@example.com","nom":"TestUser6","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest6@example.com","nom":"TestUser6","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.430Z","updates":{"welcomeMessage":"Message pour test complet"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"76a76478-f17b-4154-9780-cdf9e48bb15b"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorId":"76a76478-f17b-4154-9780-cdf9e48bb15b"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-out"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"ratetest7@example.com","nom":"TestUser7","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest7@example.com","nom":"TestUser7","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"ratetest8@example.com","nom":"TestUser8","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest8@example.com","nom":"TestUser8","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"ratetest9@example.com","nom":"TestUser9","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest9@example.com","nom":"TestUser9","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/stats"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227444-734227833.png","timestamp":"2025-07-18T20:40:27.449Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227444-734227833.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/health"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/style.css"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227456-42713166.png","timestamp":"2025-07-18T20:40:27.458Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227456-42713166.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227463-863449825.jpg","timestamp":"2025-07-18T20:40:27.468Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227463-863449825.jpg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/public"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227473-547316925.jpeg","timestamp":"2025-07-18T20:40:27.479Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227473-547316925.jpeg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227489-754712203.gif","timestamp":"2025-07-18T20:40:27.492Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227489-754712203.gif","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752871227497-334588569.svg","timestamp":"2025-07-18T20:40:27.510Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752871227497-334588569.svg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"14ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/logo"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:40:27.570Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:40:27"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T20:40:27.583Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:40:27"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"9ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:40:27.585Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:40:27"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T20:40:27.591Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:40:27"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"action":"visitor_checkin","details":{"email":"jean.martin.test1234@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"c4d2c26d-c978-4e51-8434-fd429a3360f6"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"email":"jean.martin.test1234@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 22:40:27","visitorId":"c4d2c26d-c978-4e51-8434-fd429a3360f6"}
{"duration":"15ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:40:27.594Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:40:27"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"action":"visitor_checkin","details":{"email":"sophie.freelance.test1234@gmail.com","societe":null,"visitorId":"01e69883-de90-46fe-8fcf-4d4da971e712"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"email":"sophie.freelance.test1234@gmail.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:40:27","visitorId":"01e69883-de90-46fe-8fcf-4d4da971e712"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"body":{"newPin":"123"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"duration":"14ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:40:27.610Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:40:27"}
{"action":"visitor_checkin","details":{"email":"paul.independant.test1234@outlook.com","societe":null,"visitorId":"65abec1d-a324-47f8-b2d4-b5245aa75008"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{"newPin":"1234567"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"email":"paul.independant.test1234@outlook.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:40:27","visitorId":"65abec1d-a324-47f8-b2d4-b5245aa75008"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:40:27.614Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:40:27"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"body":{"newPin":"12a4"},"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN ne peut contenir que des chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"email-invalide","nom":"Test","personneVisitee":"Test Manager","prenom":"Invalid","societe":"Test Company","telephone":"06 12 34 56 78"}}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:40:27.620Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:40:27"}
{"error":"Le nouveau code PIN est requis","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"body":{},"error":"Le nouveau code PIN est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le nouveau code PIN est requis\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:99:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:40:27.624Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:40:27"}
{"body":{"email":"email-invalide","nom":"Test","personneVisitee":"Test Manager","prenom":"Invalid","societe":"Test Company","telephone":"06 12 34 56 78"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: L'adresse email n'est pas valide\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/stats"}
{"error":"Données invalides: \"nom\" is required","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:40:27","visitorData":{"email":"test@example.com","personneVisitee":"Test Manager","prenom":"Test","societe":"Test Company","telephone":"06 12 34 56 78"}}
{"body":{"email":"test@example.com","personneVisitee":"Test Manager","prenom":"Test","societe":"Test Company","telephone":"06 12 34 56 78"},"error":"Données invalides: \"nom\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"nom\" is required\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"477cab38-a4e3-44e6-b55f-198e20c12b02"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"816c573b-0fef-4b82-a9a9-9b133182a4c7"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:40:27.637Z","updates":{"anonymizationDays":60,"welcomeMessage":"Nouveau message"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:40:27","updates":["welcomeMessage","anonymizationDays"]}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"d5901642-bc51-4246-925f-6bff9bebc94f"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"count":3,"daysBack":7,"generated":3,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/generate-test-visitors"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:40:27","updates":{"anonymizationDays":0}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"4439fe40-0bc6-4cb2-b539-710a8da24389"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:40:27","updates":{"anonymizationDays":0}}
{"body":{"anonymizationDays":0},"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: Le nombre de jours doit être au moins 1\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"17457bb9-f616-4a15-a1ad-745c1b469884"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"6b240422-22e0-4f85-9151-20832d704d73"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:40:27","updates":{"welcomeMessage":123}}
{"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:40:27","updates":{"welcomeMessage":123}}
{"body":{"welcomeMessage":123},"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: \"welcomeMessage\" must be a string\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/config"}
{"action":"visitor_checkin","details":{"email":"maria.garcia@globalservicesinc.com","societe":"Global Services Inc","visitorId":"e73c85cb-1dda-4be6-90cb-315d2ba368fe"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"alexandre.durand@startup360.com","societe":"StartUp360","visitorId":"ef3ee2a7-9a9d-4e6a-9967-d5dc61e34a86"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"level":"warn","message":"Tous les visiteurs ont été supprimés (fonction de debug)","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/clear-visitors"}
{"action":"visitor_checkin","details":{"email":"claire.dubois@consultingpro.com","societe":"Consulting Pro","visitorId":"3739daf1-b22d-489f-a915-4234a6a28e3c"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"nicolas.moreau@webagencyplus.com","societe":"WebAgency Plus","visitorId":"b8174517-78a4-41f2-b4f6-80673ec9fe31"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_anonymized","details":{"anonymizationDays":30,"anonymizedCount":1},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"anonymizationDays":30,"anonymizedCount":1,"level":"info","message":"Anonymisation des visiteurs terminée","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/anonymize"}
{"action":"visitor_checkin","details":{"email":"lisa.bernard@designstudio.com","societe":"Design Studio","visitorId":"91305ea0-6bc7-46f2-a1fa-74555d4ae875"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"david.petit@mobileappsco.com","societe":"Mobile Apps Co","visitorId":"e1aedda2-93c4-4d50-879b-4df356365c71"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/welcome-message"}
{"action":"visitor_checkin","details":{"email":"emma.roux@cloudsystems.com","societe":"Cloud Systems","visitorId":"0a4d788b-4a4e-4f27-a022-80f9261e82a1"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"count":10,"daysBack":90,"generated":10,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"17ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/generate-test-visitors"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/visitors/current"}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"14c55f89-b69b-41dc-b944-24871dcecd2a"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"count":1,"daysBack":1,"generated":1,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 22:40:27"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/generate-test-visitors"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:40:27","url":"/api/admin/visitors/history"}
{"action":"visitor_checkin","details":{"email":"jean.martin.test1752871227669@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"2a57ee34-7923-4abd-b3ec-d3642545c868"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"email":"jean.martin.test1752871227669@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 22:40:27","visitorId":"2a57ee34-7923-4abd-b3ec-d3642545c868"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin.test@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"4b33ca31-b9bd-4b46-a200-1487638c19b2"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"email":"jean.martin.test@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 22:40:27","visitorId":"4b33ca31-b9bd-4b46-a200-1487638c19b2"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"action":"visitor_checkin","details":{"email":"sophie.freelance.test@gmail.com","societe":null,"visitorId":"fa8fd287-f649-412c-847c-a4871914e884"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"email":"sophie.freelance.test@gmail.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:40:27","visitorId":"fa8fd287-f649-412c-847c-a4871914e884"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"action":"visitor_checkin","details":{"email":"paul.independant.test@outlook.com","societe":null,"visitorId":"cd321f73-c59d-4f96-b906-2717a518741e"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"email":"paul.independant.test@outlook.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:40:27","visitorId":"cd321f73-c59d-4f96-b906-2717a518741e"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:40:27","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:40:27","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.581Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198583-324282571.png","timestamp":"2025-07-18T20:56:38.596Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198583-324282571.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"18ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198582-592485006.png","timestamp":"2025-07-18T20:56:38.602Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"ec77d18a-fd25-4141-a84d-5932920452e7"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198582-592485006.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"28ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.619Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"15ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"body":{},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:137:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at multerMiddleware (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"duration":"14ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.622Z","updates":{"welcomeMessage":"Bienvenue dans notre entreprise !"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"body":{},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:137:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at multerMiddleware (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198623-213405430.png","timestamp":"2025-07-18T20:56:38.627Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"10ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/visitors/current"}
{"level":"info","logoPath":"/images/logo-1752872198623-213405430.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.637Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"15ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"duration":"14ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"duration":"14ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"duration":"19ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"duration":"16ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"duration":"15ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"duration":"29ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"duration":"28ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198639-95821596.png","timestamp":"2025-07-18T20:56:38.640Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198639-95821596.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"9e6fb9b6-486a-4da7-a27e-3e0f692361df"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"action":"visitor_checkin","details":{"email":"test2@example.com","societe":null,"visitorId":"15df49ca-1b34-47ff-aa41-db831f14b045"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"body":{},"error":"Seuls les fichiers image (jpeg, jpg, png, gif, svg) sont autorisés","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"Error: Seuls les fichiers image (jpeg, jpg, png, gif, svg) sont autorisés\n    at fileFilter (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/routes/configRoutes.js:31:6)\n    at wrappedFileFilter (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:123:7)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:248:10)\n    at SBMH.push (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Multipart.Writable.write (node:internal/streams/writable:510:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:1009:22)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:782:10)\n    at flow (node:internal/streams/readable:1283:53)\n    at resume_ (node:internal/streams/readable:1262:3)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/visitors/current"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198647-63648611.png","timestamp":"2025-07-18T20:56:38.651Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198647-63648611.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"filePath":"/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/data/config.json","level":"warn","message":"Fichier vide détecté","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.654Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"9fa7f6d0-2740-421e-8ea5-1186e2e13a47"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198659-804035283.png","timestamp":"2025-07-18T20:56:38.660Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.662Z","updates":{"welcomeMessage":"Nouveau message d'accueil !"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198659-804035283.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38","updates":["welcomeMessage"]}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/config"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"body":{},"error":"File too large","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"MulterError: File too large\n    at abortWithCode (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:85:22)\n    at FileStream.<anonymous> (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:150:11)\n    at FileStream.emit (node:events:518:28)\n    at SBMH.ssCb [as _cb] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:248:10)\n    at SBMH.push (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Multipart.Writable.write (node:internal/streams/writable:510:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:1009:22)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:782:10)\n    at flow (node:internal/streams/readable:1283:53)\n    at resume_ (node:internal/streams/readable:1262:3)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.668Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.670Z","updates":{"welcomeMessage":"Message persistant"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"17ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.674Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"body":{},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:137:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at ConfigController.fn [as updateLogo] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:209:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:103:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/json.js:122:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:152:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.681Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"9fa7f6d0-2740-421e-8ea5-1186e2e13a47"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"body":{"some":"data"},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:137:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at multerMiddleware (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorId":"9fa7f6d0-2740-421e-8ea5-1186e2e13a47"}
{"duration":"25ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.686Z","updates":{"welcomeMessage":"Bienvenue ! Éléments spéciaux : à, é, ç, ñ, ü - 123 & @"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38","updates":["welcomeMessage"]}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/config"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"13ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"38f4ac2d-7474-4564-9703-7daf2494f30c"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198688-299282218.jpg","timestamp":"2025-07-18T20:56:38.690Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198688-299282218.jpg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"email":"inexistant@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.693Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198693-45925654.png","timestamp":"2025-07-18T20:56:38.694Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198693-45925654.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"body":{"email":"inexistant@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:56:38","updates":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"a057811e-ed7a-480c-84f2-6aa42f216892"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198699-724783131.png","timestamp":"2025-07-18T20:56:38.700Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198699-724783131.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:56:38","updates":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}}
{"body":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/config"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/config"}
{"checkOutData":{},"error":"Données invalides: \"email\" is required","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.704Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198704-606854130.png","timestamp":"2025-07-18T20:56:38.705Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198704-606854130.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"body":{},"error":"Données invalides: \"email\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:56:38","updates":{"welcomeMessage":""}}
{"duration":"17ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"18ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"18ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"19ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"22ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"22ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"23ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"23ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"23ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"20ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"22ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"22ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"22ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:56:38","updates":{"welcomeMessage":""}}
{"body":{"welcomeMessage":""},"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: \"welcomeMessage\" is not allowed to be empty\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/config"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/config"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.712Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"ace144cf-2c3f-4241-8ff5-5e31cf9517a6"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:38.714Z","updates":{"welcomeMessage":"Message pour test complet"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/visitors/current"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/config"}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"ace144cf-2c3f-4241-8ff5-5e31cf9517a6"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorId":"ace144cf-2c3f-4241-8ff5-5e31cf9517a6"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"action":"visitor_checkin","details":{"email":"jean.martin@test.com","societe":"Test Corp","visitorId":"861f44d8-1277-4115-b1a9-ee6a359e1844"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/visitors/current"}
{"email":"jean.martin@test.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Test Corp","timestamp":"2025-07-18 22:56:38","visitorId":"861f44d8-1277-4115-b1a9-ee6a359e1844"}
{"duration":"71ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/visitors/history"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"83f14693-1d77-4221-85bb-3218c4bfe540"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sansociete@example.com","societe":null,"visitorId":"d9e81e03-9393-4722-a668-73420a5c6061"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"error":"Données invalides: \"email\" is required, \"personneVisitee\" is required","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"nom":"Martin","prenom":"Jean"}}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/visitors/current"}
{"body":{"nom":"Martin","prenom":"Jean"},"error":"Données invalides: \"email\" is required, \"personneVisitee\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required, \"personneVisitee\" is required\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"12ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"action":"visitor_checkout","details":{"email":"sansociete@example.com","visitorId":"d9e81e03-9393-4722-a668-73420a5c6061"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"dureeVisite":"0h 0m","email":"sansociete@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorId":"d9e81e03-9393-4722-a668-73420a5c6061"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"action":"visitor_checkout","details":{"email":"jean.martin.checkout@test.com","visitorId":"test-uuid-checkout"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/visitors/history"}
{"dureeVisite":"0h 0m","email":"jean.martin.checkout@test.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorId":"test-uuid-checkout"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"d14ad8d3-f15f-41e8-b1a7-9c87a2a50de4"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"email":"inexistant@test.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":"inexistant@test.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"d14ad8d3-f15f-41e8-b1a7-9c87a2a50de4"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorId":"d14ad8d3-f15f-41e8-b1a7-9c87a2a50de4"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198767-844418605.png","timestamp":"2025-07-18T20:56:38.772Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198767-844418605.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"email":"test@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":"test@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"checkOutData":{},"error":"Données invalides: \"email\" is required","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"email":"test0@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{},"error":"Données invalides: \"email\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198782-281775467.png","timestamp":"2025-07-18T20:56:38.785Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"body":{"email":"test0@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"56ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"email":"test1@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":"test1@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"18ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"email":"test3@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":"test3@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"15ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"email":"test5@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":"test5@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"14ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"email":"test8@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":"test8@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"10ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"email":"test7@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":"test7@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"15ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"email":"test6@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":"test6@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"16ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"email":"test2@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":"test2@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"20ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"email":"test9@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":"test9@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"11ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"email":"test4@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":"test4@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"19ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"23833d48-ba9a-4392-a635-bcf4fbd7fb45"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T20:56:38.788Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:56:38"}
{"checkOutData":{"email":"email-invalide"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"level":"info","message":"Authentification PIN réussie","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/login"}
{"body":{"email":"email-invalide"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: L'adresse email n'est pas valide\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"level":"info","logoPath":"/images/logo-1752872198782-281775467.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T20:56:38.795Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":false,"timestamp":"2025-07-18 22:56:38"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"ratetest0@example.com","nom":"TestUser0","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"error":"Code PIN incorrect","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"pin":"000000"},"error":"Code PIN incorrect","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN incorrect\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:76:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:20","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/login"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":401,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/login"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"962411d5-445e-4a43-9d25-3b072b7a5a58"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"checkOutData":{"email":""},"error":"Données invalides: \"email\" is not allowed to be empty","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"error":"Le code PIN est requis","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{"email":""},"error":"Données invalides: \"email\" is not allowed to be empty","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is not allowed to be empty\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"body":{},"error":"Le code PIN est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN est requis\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:70:15)\n    at authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/login"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/login"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"body":{},"error":"aborted","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"Error: aborted\n    at abortIncoming (node:_http_server:811:17)\n    at socketOnClose (node:_http_server:805:3)\n    at Socket.emit (node:events:530:35)\n    at TCP.<anonymous> (node:net:346:12)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"4facbf87-88e5-41fa-93db-ff95ed043292"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"body":{"email":"ratetest0@example.com","nom":"TestUser0","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"ratetest1@example.com","nom":"TestUser1","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest1@example.com","nom":"TestUser1","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"ratetest2@example.com","nom":"TestUser2","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest2@example.com","nom":"TestUser2","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"ratetest3@example.com","nom":"TestUser3","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest3@example.com","nom":"TestUser3","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"ratetest4@example.com","nom":"TestUser4","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest4@example.com","nom":"TestUser4","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"ratetest5@example.com","nom":"TestUser5","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest5@example.com","nom":"TestUser5","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"ratetest6@example.com","nom":"TestUser6","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest6@example.com","nom":"TestUser6","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/stats"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T20:56:38.847Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:56:38"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"20ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"ratetest7@example.com","nom":"TestUser7","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest7@example.com","nom":"TestUser7","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"ratetest8@example.com","nom":"TestUser8","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest8@example.com","nom":"TestUser8","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"ratetest9@example.com","nom":"TestUser9","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest9@example.com","nom":"TestUser9","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"14ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"filePath":"/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/data/config.json","level":"warn","message":"Fichier vide détecté","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198840-375404449.png","timestamp":"2025-07-18T20:56:38.858Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"4facbf87-88e5-41fa-93db-ff95ed043292"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorId":"4facbf87-88e5-41fa-93db-ff95ed043292"}
{"duration":"11ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-out"}
{"level":"info","logoPath":"/images/logo-1752872198840-375404449.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/stats"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/welcome-message"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198863-234609505.jpg","timestamp":"2025-07-18T20:56:38.868Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198863-234609505.jpg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"body":{"newPin":"123"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/health"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/style.css"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198875-773208165.jpeg","timestamp":"2025-07-18T20:56:38.889Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198875-773208165.jpeg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"19ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"body":{"newPin":"1234567"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"duration":"24ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"duration":"15ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/config"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198909-289201111.gif","timestamp":"2025-07-18T20:56:38.911Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198909-289201111.gif","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/public"}
{"body":{"newPin":"12ab"},"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN ne peut contenir que des chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752872198915-248365035.svg","timestamp":"2025-07-18T20:56:38.917Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin.test1234@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"dfa0e6f8-9c48-43ba-91b5-6dc4a5ebb3f3"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752872198915-248365035.svg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/logo"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"email":"jean.martin.test1234@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 22:56:38","visitorId":"dfa0e6f8-9c48-43ba-91b5-6dc4a5ebb3f3"}
{"duration":"53ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"level":"warn","message":"Tous les visiteurs ont été supprimés (fonction de debug)","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/clear-visitors"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:56:38.929Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:56:38"}
{"action":"visitor_checkin","details":{"email":"sophie.freelance.test1234@gmail.com","societe":null,"visitorId":"da65daa9-0f6c-4f13-8415-353bc36f45ce"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"email":"sophie.freelance.test1234@gmail.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:56:38","visitorId":"da65daa9-0f6c-4f13-8415-353bc36f45ce"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"paul.independant.test1234@outlook.com","societe":null,"visitorId":"6212137f-1205-4842-844b-ddd10ba72443"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"email":"paul.independant.test1234@outlook.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:56:38","visitorId":"6212137f-1205-4842-844b-ddd10ba72443"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T20:56:38.948Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:56:38"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"15ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"email-invalide","nom":"Test","personneVisitee":"Test Manager","prenom":"Invalid","societe":"Test Company","telephone":"06 12 34 56 78"}}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:56:38.951Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:56:38"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T20:56:38.954Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:56:38"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"body":{"email":"email-invalide","nom":"Test","personneVisitee":"Test Manager","prenom":"Invalid","societe":"Test Company","telephone":"06 12 34 56 78"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: L'adresse email n'est pas valide\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"10ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:56:38.956Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:56:38"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"error":"Données invalides: \"nom\" is required","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 22:56:38","visitorData":{"email":"test@example.com","personneVisitee":"Test Manager","prenom":"Test","societe":"Test Company","telephone":"06 12 34 56 78"}}
{"body":{"email":"test@example.com","personneVisitee":"Test Manager","prenom":"Test","societe":"Test Company","telephone":"06 12 34 56 78"},"error":"Données invalides: \"nom\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"nom\" is required\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/check-in"}
{"body":{"newPin":"123"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:56:38.963Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:56:38"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"0ea2fc1c-de0e-4c13-b9c6-f77a9b6c1eb0"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"body":{"newPin":"1234567"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:56:38.969Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:56:38"}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"b823137a-9c5a-48ad-be6b-51d1b67f0bca"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"37d14786-15e6-4737-9bcf-78224077efd1"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"count":3,"daysBack":7,"generated":3,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/generate-test-visitors"}
{"body":{"newPin":"12a4"},"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN ne peut contenir que des chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:105:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:56:38.973Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:56:38"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"error":"Le nouveau code PIN est requis","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"body":{},"error":"Le nouveau code PIN est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le nouveau code PIN est requis\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:99:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T20:56:38.982Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 22:56:38"}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"270911ff-ef55-4702-89c6-575044bfd43f"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"b5487d12-600c-4cb9-8a3a-269760a679bb"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"757b5a58-2469-432b-9c0b-91789a6f62bc"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"maria.garcia@globalservicesinc.com","societe":"Global Services Inc","visitorId":"d6089e0d-3619-45f7-b47d-daf6ae4daf7d"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"alexandre.durand@startup360.com","societe":"StartUp360","visitorId":"83558e75-a5d4-4be7-a2a0-3bce88406ff8"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"claire.dubois@consultingpro.com","societe":"Consulting Pro","visitorId":"8a06638e-3c8e-4ce1-bc03-a0dbe77514a2"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"nicolas.moreau@webagencyplus.com","societe":"WebAgency Plus","visitorId":"5b7ab96e-e27e-40a8-b68a-124b8c8ad5f8"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"lisa.bernard@designstudio.com","societe":"Design Studio","visitorId":"252eb042-591a-442f-9986-607904835b30"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"david.petit@mobileappsco.com","societe":"Mobile Apps Co","visitorId":"061cc415-f7fe-4433-b009-7eb4ce2d1fdf"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"emma.roux@cloudsystems.com","societe":"Cloud Systems","visitorId":"27e09ead-9fc0-4a7d-b1d5-be15c4de34bf"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"count":10,"daysBack":90,"generated":10,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 22:56:38"}
{"duration":"15ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:38","url":"/api/admin/generate-test-visitors"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:38","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"b8d6ed40-c9e4-428d-89e3-79c80ea56e68"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"count":1,"daysBack":1,"generated":1,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 22:56:39"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/generate-test-visitors"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin.test1752872199004@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"8b662c33-57d8-484f-ab94-bf885036a79d"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"email":"jean.martin.test1752872199004@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 22:56:39","visitorId":"8b662c33-57d8-484f-ab94-bf885036a79d"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:56:39","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin.test@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"8159597f-0ba1-40d6-8c47-f0bf6b42f3c4"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"email":"jean.martin.test@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 22:56:39","visitorId":"8159597f-0ba1-40d6-8c47-f0bf6b42f3c4"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:56:39","url":"/api/check-in"}
{"action":"visitor_checkin","details":{"email":"sophie.freelance.test@gmail.com","societe":null,"visitorId":"5eddf732-647d-4c8c-8dd9-aca8f5bcc0aa"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"email":"sophie.freelance.test@gmail.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:56:39","visitorId":"5eddf732-647d-4c8c-8dd9-aca8f5bcc0aa"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:56:39","url":"/api/check-in"}
{"action":"visitor_checkin","details":{"email":"paul.independant.test@outlook.com","societe":null,"visitorId":"3a4c994d-523f-4851-81fb-59e1ac0cc149"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"email":"paul.independant.test@outlook.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 22:56:39","visitorId":"3a4c994d-523f-4851-81fb-59e1ac0cc149"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 22:56:39","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/stats"}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/config"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T20:56:39.137Z","updates":{"anonymizationDays":60,"welcomeMessage":"Nouveau message"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 22:56:39","updates":["welcomeMessage","anonymizationDays"]}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/config"}
{"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:56:39","updates":{"anonymizationDays":0}}
{"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:56:39","updates":{"anonymizationDays":0}}
{"body":{"anonymizationDays":0},"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: Le nombre de jours doit être au moins 1\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/config"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/config"}
{"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:56:39","updates":{"welcomeMessage":123}}
{"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 22:56:39","updates":{"welcomeMessage":123}}
{"body":{"welcomeMessage":123},"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: \"welcomeMessage\" must be a string\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:118:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/config"}
{"duration":"35ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/config"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"level":"warn","message":"Tous les visiteurs ont été supprimés (fonction de debug)","service":"visitor-management","timestamp":"2025-07-18 22:56:39"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/clear-visitors"}
{"action":"visitors_anonymized","details":{"anonymizationDays":30,"anonymizedCount":1},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 22:56:39","userContext":{}}
{"anonymizationDays":30,"anonymizedCount":1,"level":"info","message":"Anonymisation des visiteurs terminée","service":"visitor-management","timestamp":"2025-07-18 22:56:39"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/anonymize"}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:39","url":"/api/welcome-message"}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/visitors/current"}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 22:56:39","url":"/api/admin/visitors/history"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:07:05.002Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:05"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:07:05"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:07:05.007Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:05"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:07:05"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T21:07:39.851Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:39"}
{"level":"info","message":"Authentification PIN réussie","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"duration":"25ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/login"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T21:07:39.871Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":false,"timestamp":"2025-07-18 23:07:39"}
{"error":"Code PIN incorrect","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"body":{"pin":"000000"},"error":"Code PIN incorrect","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN incorrect\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:76:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:20","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/login"}
{"duration":"13ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":401,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/login"}
{"error":"Le code PIN est requis","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:07:39.887Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:39"}
{"body":{},"error":"Le code PIN est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN est requis\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:70:15)\n    at authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/login"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/login"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:07:39.903Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:39"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"duration":"13ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"body":{"newPin":"123"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:108:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"body":{"newPin":"1234567"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:108:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:07:39.925Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:39"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"duration":"27ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"body":{"newPin":"12ab"},"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN ne peut contenir que des chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:108:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:07:39.932Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:39"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:07:39.941Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:39"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:07:39.943Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:39"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"body":{"newPin":"123"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:108:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:07:39.954Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:39"}
{"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"body":{"newPin":"1234567"},"error":"Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:108:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:07:39.958Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:39"}
{"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"body":{"newPin":"12a4"},"error":"Code PIN invalide: Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN invalide: Le code PIN ne peut contenir que des chiffres\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:108:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:07:39.964Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:39"}
{"error":"Le nouveau code PIN est requis","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:07:39"}
{"body":{},"error":"Le nouveau code PIN est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le nouveau code PIN est requis\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:99:15)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at ConfigController.fn [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:189:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:07:39","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:07:39.968Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:07:39"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:16:39.855Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:16:39"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:16:39"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:16:39.858Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:16:39"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:16:39"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:16:39.859Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:16:39"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:16:39"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:16:39.860Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:16:39"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:16:39"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:16:39.861Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:16:39"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:16:39"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:16:39"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:16:39"}
{"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:16:39"}
{"environment":"development","level":"info","message":"Serveur démarré","port":3001,"service":"visitor-management","timestamp":"2025-07-18 23:19:49","version":"2.0.0"}
{"duration":"4ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:19:59","url":"/admin.html","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:19:59","url":"/style.css","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"0ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:19:59","url":"/app.js","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T21:20:02.671Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":false,"timestamp":"2025-07-18 23:20:02"}
{"error":"Code PIN incorrect","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 23:20:02"}
{"body":{"pin":"123456"},"error":"Code PIN incorrect","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN incorrect\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:76:15)\n    at async /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:20","statusCode":200,"timestamp":"2025-07-18 23:20:02","url":"/api/admin/login"}
{"duration":"12ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":401,"timestamp":"2025-07-18 23:20:02","url":"/api/admin/login","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T21:20:06.508Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:20:06"}
{"level":"info","message":"Authentification PIN réussie","service":"visitor-management","timestamp":"2025-07-18 23:20:06"}
{"duration":"4ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:20:06","url":"/api/admin/login","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"4ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:20:06","url":"/api/admin/stats","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:20:06","url":"/api/admin/config","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"0ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:20:06","url":"/api/admin/visitors/current","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:20:06","url":"/api/admin/visitors/history","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:20:13.119Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:20:13"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:20:13"}
{"duration":"16ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:20:13","url":"/api/admin/change-pin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:20:17","url":"/admin.html","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:20:17","url":"/style.css","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:20:17","url":"/app.js","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T21:20:20.370Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":false,"timestamp":"2025-07-18 23:20:20"}
{"error":"Code PIN incorrect","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 23:20:20"}
{"body":{"pin":"1999"},"error":"Code PIN incorrect","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN incorrect\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:76:15)\n    at async /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:20","statusCode":200,"timestamp":"2025-07-18 23:20:20","url":"/api/admin/login"}
{"duration":"3ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":401,"timestamp":"2025-07-18 23:20:20","url":"/api/admin/login","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T21:20:22.827Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:20:22"}
{"level":"info","message":"Authentification PIN réussie","service":"visitor-management","timestamp":"2025-07-18 23:20:22"}
{"duration":"3ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:20:22","url":"/api/admin/login","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:20:22","url":"/api/admin/stats","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"0ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:20:22","url":"/api/admin/config","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:20:22","url":"/api/admin/visitors/current","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:20:22","url":"/api/admin/visitors/history","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:20:30.424Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:20:30"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:20:30"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:20:30","url":"/api/admin/change-pin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:20:37.116Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:20:37"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:20:37"}
{"duration":"6ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:20:37","url":"/api/admin/change-pin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:21:09.873Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:21:09"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:21:09"}
{"duration":"4ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:21:09","url":"/api/admin/change-pin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:21:17.691Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:21:17"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:21:17"}
{"duration":"3ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:21:17","url":"/api/admin/change-pin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:16.562Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:16"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:22:16.593Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:16"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:22:16"}
{"duration":"18ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:22:16","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:16.598Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:16"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:22:16.601Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:16"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:22:16"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:22:16","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:16.603Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:16"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:22:16"}
{"body":{"newPin":"123"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:22:16","url":"/api/admin/change-pin"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:22:16","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:16.610Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:16"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:22:16"}
{"body":{"newPin":"1234567"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:22:16","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:22:16","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:16.613Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:16"}
{"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:22:16"}
{"body":{"newPin":"12a4"},"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN ne peut contenir que des chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:161:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:22:16","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:22:16","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:16.616Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:16"}
{"endpoint":"/api/admin/change-pin","ip":"::ffff:127.0.0.1","level":"warn","message":"Rate limit strict dépassé","service":"visitor-management","timestamp":"2025-07-18 23:22:16"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":429,"timestamp":"2025-07-18 23:22:16","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:16.619Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:16"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:41.200Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:41"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:22:41.430Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:41"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:22:41"}
{"duration":"20ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:22:41","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:41.435Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:41"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:22:41.643Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:41"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:22:41"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:22:41","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:41.646Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:41"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:22:41"}
{"body":{"newPin":"123"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:22:41","url":"/api/admin/change-pin"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:22:41","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:41.855Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:41"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:22:42"}
{"body":{"newPin":"1234567"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:22:42","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:22:42","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:42.064Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:42"}
{"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:22:42"}
{"body":{"newPin":"12a4"},"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN ne peut contenir que des chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:161:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:22:42","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:22:42","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:42.269Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:42"}
{"endpoint":"/api/admin/change-pin","ip":"::ffff:127.0.0.1","level":"warn","message":"Rate limit strict dépassé","service":"visitor-management","timestamp":"2025-07-18 23:22:42"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":429,"timestamp":"2025-07-18 23:22:42","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:22:42.475Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:22:42"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:04.589Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:04"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:23:04.821Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:04"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:23:04"}
{"duration":"19ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:23:04","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:04.826Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:04"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:23:05.036Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:05"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:23:05"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:23:05","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:05.038Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:05"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:05"}
{"body":{"newPin":"123"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:05","url":"/api/admin/change-pin"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:05","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:05.251Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:05"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:05"}
{"body":{"newPin":"1234567"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:05","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:05","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:05.456Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:05"}
{"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:05"}
{"body":{"newPin":"12a4"},"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN ne peut contenir que des chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:161:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:05","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:05","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:05.664Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:05"}
{"endpoint":"/api/admin/change-pin","ip":"::ffff:127.0.0.1","level":"warn","message":"Rate limit strict dépassé","service":"visitor-management","timestamp":"2025-07-18 23:23:05"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":429,"timestamp":"2025-07-18 23:23:05","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:05.868Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:05"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:23:13.565Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:13"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:23:13"}
{"duration":"54ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:23:13","url":"/api/admin/change-pin"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:13"}
{"body":{"newPin":"123"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:13","url":"/api/admin/change-pin"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:13","url":"/api/admin/change-pin"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:13"}
{"body":{"newPin":"1234567"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:13","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:13","url":"/api/admin/change-pin"}
{"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:13"}
{"body":{"newPin":"12ab"},"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN ne peut contenir que des chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:161:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:13","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:13","url":"/api/admin/change-pin"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:23:45.331Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:45"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:23:45"}
{"duration":"36ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:23:45","url":"/api/admin/change-pin"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:45"}
{"body":{"newPin":"123"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:45","url":"/api/admin/change-pin"}
{"duration":"9ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:45","url":"/api/admin/change-pin"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:45"}
{"body":{"newPin":"1234567"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:45","url":"/api/admin/change-pin"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:45","url":"/api/admin/change-pin"}
{"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:45"}
{"body":{"newPin":"12ab"},"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN ne peut contenir que des chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:161:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:45","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:45","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:51.302Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:51"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:23:51.530Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:51"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:23:51"}
{"duration":"17ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:23:51","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:51.535Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:51"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:23:51.744Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:51"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:23:51"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:23:51","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:51.748Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:51"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:51"}
{"body":{"newPin":"123"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:51","url":"/api/admin/change-pin"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:51","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:51.960Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:51"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:52"}
{"body":{"newPin":"1234567"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:52","url":"/api/admin/change-pin"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:52","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:52.173Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:52"}
{"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:23:52"}
{"body":{"newPin":"12a4"},"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN ne peut contenir que des chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:161:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:23:52","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:23:52","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:52.380Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:52"}
{"endpoint":"/api/admin/change-pin","ip":"::ffff:127.0.0.1","level":"warn","message":"Rate limit strict dépassé","service":"visitor-management","timestamp":"2025-07-18 23:23:52"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":429,"timestamp":"2025-07-18 23:23:52","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:23:52.588Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:23:52"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:24:51.030Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:24:51"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:24:51"}
{"duration":"26ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:24:51","url":"/api/admin/change-pin"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:24:51"}
{"body":{"newPin":"123"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:24:51","url":"/api/admin/change-pin"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:24:51","url":"/api/admin/change-pin"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:24:51"}
{"body":{"newPin":"1234567"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:24:51","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:24:51","url":"/api/admin/change-pin"}
{"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:24:51"}
{"body":{"newPin":"12ab"},"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN ne peut contenir que des chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:161:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:24:51","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:24:51","url":"/api/admin/change-pin"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:25:54.038Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:25:54"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:25:54"}
{"duration":"5ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:25:54","url":"/api/admin/change-pin","userAgent":"curl/8.7.1"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:26:11"}
{"body":{"newPin":"123"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService.changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:26:11","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:11","url":"/api/admin/change-pin","userAgent":"curl/8.7.1"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.763Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"duration":"33ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:26:24.820Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:26:24"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"061239bd-34fe-4b45-b176-e499d49a0d8a"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.826Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.831Z","updates":{"welcomeMessage":"Bienvenue dans notre entreprise !"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/visitors/current"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.844Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873984842-2599697.png","timestamp":"2025-07-18T21:26:24.847Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"53aea626-cdd8-481e-909e-714986c3c500"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873984810-903354887.png","timestamp":"2025-07-18T21:26:24.847Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873984842-2599697.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"11ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"action":"visitor_checkin","details":{"email":"test2@example.com","societe":null,"visitorId":"ebe68e2c-807b-4a5b-a361-44b8834cd3f9"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.852Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/visitors/current"}
{"level":"info","logoPath":"/images/logo-1752873984810-903354887.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"49ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.862Z","updates":{"welcomeMessage":"Nouveau message d'accueil !"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24","updates":["welcomeMessage"]}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/config"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"605147df-6b4c-4c88-884e-f9f708535964"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"duration":"44ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"action":"visitor_checkin","details":{"email":"jean.martin@test.com","societe":"Test Corp","visitorId":"8bc9bb55-39bd-4929-abcd-e9c9597f823b"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"email":"jean.martin@test.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Test Corp","timestamp":"2025-07-18 23:26:24","visitorId":"8bc9bb55-39bd-4929-abcd-e9c9597f823b"}
{"duration":"28ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 23:26:24","url":"/api/check-in"}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.873Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.876Z","updates":{"welcomeMessage":"Message persistant"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"body":{},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:173:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at multerMiddleware (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"duration":"10ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"error":"Données invalides: \"email\" is required, \"personneVisitee\" is required","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24","visitorData":{"nom":"Martin","prenom":"Jean"}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873984882-208595808.png","timestamp":"2025-07-18T21:26:24.883Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873984882-208595808.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"body":{"nom":"Martin","prenom":"Jean"},"error":"Données invalides: \"email\" is required, \"personneVisitee\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required, \"personneVisitee\" is required\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-in"}
{"duration":"10ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:24","url":"/api/check-in"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873984890-994184039.png","timestamp":"2025-07-18T21:26:24.892Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873984890-994184039.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.893Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"visitor_checkout","details":{"email":"jean.martin.checkout@test.com","visitorId":"test-uuid-checkout"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"dureeVisite":"0h 0m","email":"jean.martin.checkout@test.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24","visitorId":"test-uuid-checkout"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"46ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"duration":"48ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"duration":"48ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"duration":"65ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"duration":"68ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"duration":"78ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"duration":"71ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"duration":"67ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"duration":"64ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873984903-559198913.png","timestamp":"2025-07-18T21:26:24.910Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.910Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873984903-559198913.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"10ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"body":{},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:173:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at multerMiddleware (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"duration":"56ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"605147df-6b4c-4c88-884e-f9f708535964"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"email":"inexistant@test.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{"email":"inexistant@test.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24","visitorId":"605147df-6b4c-4c88-884e-f9f708535964"}
{"duration":"49ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.917Z","updates":{"welcomeMessage":"Bienvenue ! Éléments spéciaux : à, é, ç, ñ, ü - 123 & @"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"checkOutData":{},"error":"Données invalides: \"email\" is required","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24","updates":["welcomeMessage"]}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/config"}
{"body":{},"error":"Seuls les fichiers image (jpeg, jpg, png, gif, svg) sont autorisés","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"Error: Seuls les fichiers image (jpeg, jpg, png, gif, svg) sont autorisés\n    at fileFilter (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/routes/configRoutes.js:31:6)\n    at wrappedFileFilter (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:123:7)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:200:10)\n    at SBMH.push (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Multipart.Writable.write (node:internal/streams/writable:510:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:1009:22)\n    at IncomingMessage.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:392:5)\n    at HTTPParser.parserOnBody (node:_http_common:129:24)","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"body":{},"error":"Données invalides: \"email\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873984916-201207724.png","timestamp":"2025-07-18T21:26:24.921Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/welcome-message"}
{"level":"info","logoPath":"/images/logo-1752873984916-201207724.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"da9c3a56-eddf-4279-b9f3-35fb683edefa"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.929Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T21:26:24.930Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:26:24"}
{"email":"inexistant@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"level":"info","message":"Authentification PIN réussie","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/login"}
{"body":{"email":"inexistant@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/health"}
{"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 23:26:24","updates":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T21:26:24.942Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":false,"timestamp":"2025-07-18 23:26:24"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"error":"Code PIN incorrect","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{"pin":"000000"},"error":"Code PIN incorrect","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Code PIN incorrect\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:76:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:20","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/login"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":401,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/login"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"64899c96-5e08-4dbe-8245-5b6f9e0ad0c4"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 23:26:24","updates":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}}
{"body":{"welcomeMessage":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},"error":"Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: Le message de bienvenue ne peut pas dépasser 200 caractères\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:93:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/config"}
{"duration":"14ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/config"}
{"checkOutData":{},"error":"Données invalides: \"email\" is required","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{},"error":"File too large","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"MulterError: File too large\n    at abortWithCode (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:85:22)\n    at FileStream.<anonymous> (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:150:11)\n    at FileStream.emit (node:events:518:28)\n    at SBMH.ssCb [as _cb] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:248:10)\n    at SBMH.push (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Multipart.Writable.write (node:internal/streams/writable:510:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:1009:22)\n    at IncomingMessage.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:392:5)\n    at HTTPParser.parserOnBody (node:_http_common:129:24)","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"error":"Le code PIN est requis","level":"warn","message":"Échec de l'authentification PIN","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"24ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"body":{},"error":"Le code PIN est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN est requis\n    at ConfigService.authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:70:15)\n    at authenticatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:72:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/login"}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/login"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.953Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"body":{},"error":"Données invalides: \"email\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is required\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"body":{},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:173:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at ConfigController.fn [as updateLogo] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:201:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:103:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/json.js:122:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:152:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 23:26:24","updates":{"welcomeMessage":""}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 23:26:24","updates":{"welcomeMessage":""}}
{"body":{"welcomeMessage":""},"error":"Configuration invalide: \"welcomeMessage\" is not allowed to be empty","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: \"welcomeMessage\" is not allowed to be empty\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:93:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/config"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/config"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"faf665f6-969f-4cd4-8440-59f0b92a2ee5"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:26:24.960Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:26:24"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.960Z","updates":{"welcomeMessage":"Bienvenue"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/visitors/current"}
{"error":"Le chemin du logo est requis","level":"error","message":"Erreur lors de la mise à jour du logo","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:24.966Z","updates":{"welcomeMessage":"Message pour test complet"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"body":{"some":"data"},"error":"Le chemin du logo est requis","level":"error","message":"API Error","method":"PUT","service":"visitor-management","stack":"AppError: Le chemin du logo est requis\n    at ConfigService.updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:173:15)\n    at updateLogo (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:102:52)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at multerMiddleware (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/config"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"faf665f6-969f-4cd4-8440-59f0b92a2ee5"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"body":{"newPin":"123"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/change-pin"}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24","visitorId":"faf665f6-969f-4cd4-8440-59f0b92a2ee5"}
{"duration":"12ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"email":"test0@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"endpoint":"/api/admin/change-pin","ip":"::ffff:127.0.0.1","level":"warn","message":"Rate limit strict dépassé","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873984972-709714749.jpg","timestamp":"2025-07-18T21:26:24.980Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":429,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/change-pin"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/visitors/current"}
{"level":"info","logoPath":"/images/logo-1752873984972-709714749.jpg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"10ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/visitors/history"}
{"body":{"email":"test0@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"40ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"email":"test2@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{"email":"test2@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"22ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"email":"test4@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{"email":"test4@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"20ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"email":"test3@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{"email":"test3@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"22ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"email":"test1@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{"email":"test1@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"26ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"email":"test6@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{"email":"test6@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"20ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"email":"test7@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{"email":"test7@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"20ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"email":"test8@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{"email":"test8@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"19ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"email":"test5@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{"email":"test5@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"23ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"endpoint":"/api/admin/change-pin","ip":"::ffff:127.0.0.1","level":"warn","message":"Rate limit strict dépassé","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":429,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/change-pin"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"email":"test9@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"body":{"email":"test9@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"duration":"21ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:24","url":"/api/check-out"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873984986-325224432.png","timestamp":"2025-07-18T21:26:24.993Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873984986-325224432.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"11ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/logo"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"fe9f7c25-f63b-435d-88dd-da551970b597"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:24","userContext":{}}
{"level":"warn","message":"Tous les visiteurs ont été supprimés (fonction de debug)","service":"visitor-management","timestamp":"2025-07-18 23:26:24"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:24","url":"/api/admin/clear-visitors"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:24","visitorData":{"email":"ratetest0@example.com","nom":"TestUser0","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"action":"visitor_checkin","details":{"email":"sansociete@example.com","societe":null,"visitorId":"c41ea9cb-0b4c-44bd-9b98-3651d0574232"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873984999-864022495.png","timestamp":"2025-07-18T21:26:25.001Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873984999-864022495.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/logo"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/visitors/current"}
{"action":"visitor_checkout","details":{"email":"sansociete@example.com","visitorId":"c41ea9cb-0b4c-44bd-9b98-3651d0574232"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873985007-507012963.png","timestamp":"2025-07-18T21:26:25.009Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"dureeVisite":"0h 0m","email":"sansociete@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorId":"c41ea9cb-0b4c-44bd-9b98-3651d0574232"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-out"}
{"level":"info","logoPath":"/images/logo-1752873985007-507012963.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/logo"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/visitors/history"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"b2706f86-09c7-4a2c-afad-6912110462cc"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"b2706f86-09c7-4a2c-afad-6912110462cc"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorId":"b2706f86-09c7-4a2c-afad-6912110462cc"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-out"}
{"email":"test@example.com","error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"Erreur lors du checkout du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"body":{"email":"test@example.com"},"error":"Aucune arrivée en cours trouvée pour cet email","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Aucune arrivée en cours trouvée pour cet email\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:83:15)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:21","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-out"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":404,"timestamp":"2025-07-18 23:26:25","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"dd775d05-c6c9-4d79-92e8-155972177282"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"body":{"email":"ratetest0@example.com","nom":"TestUser0","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorData":{"email":"ratetest1@example.com","nom":"TestUser1","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest1@example.com","nom":"TestUser1","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorData":{"email":"ratetest2@example.com","nom":"TestUser2","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest2@example.com","nom":"TestUser2","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorData":{"email":"ratetest3@example.com","nom":"TestUser3","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest3@example.com","nom":"TestUser3","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorData":{"email":"ratetest4@example.com","nom":"TestUser4","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest4@example.com","nom":"TestUser4","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorData":{"email":"ratetest5@example.com","nom":"TestUser5","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest5@example.com","nom":"TestUser5","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorData":{"email":"ratetest6@example.com","nom":"TestUser6","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest6@example.com","nom":"TestUser6","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873985027-776616907.png","timestamp":"2025-07-18T21:26:25.031Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873985027-776616907.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/logo"}
{"checkOutData":{"email":"email-invalide"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"body":{"email":"email-invalide"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: L'adresse email n'est pas valide\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-out"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-out"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorData":{"email":"ratetest7@example.com","nom":"TestUser7","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest7@example.com","nom":"TestUser7","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorData":{"email":"ratetest8@example.com","nom":"TestUser8","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest8@example.com","nom":"TestUser8","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorData":{"email":"ratetest9@example.com","nom":"TestUser9","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"}}
{"body":{"email":"ratetest9@example.com","nom":"TestUser9","personneVisitee":"Test Manager","prenom":"Rate","telephone":"0123456789"},"error":"Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/welcome-message"}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"c5e7e51f-efe4-46aa-888c-288f13bf0e00"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873985040-175792208.png","timestamp":"2025-07-18T21:26:25.045Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:26:25.045Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:26:25"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/welcome-message"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"10ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/change-pin"}
{"level":"info","logoPath":"/images/logo-1752873985040-175792208.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"9ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/logo"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/welcome-message"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:26:25.052Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:26:25"}
{"duration":"0ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/health"}
{"checkOutData":{"email":""},"error":"Données invalides: \"email\" is not allowed to be empty","level":"error","message":"Erreur lors de l'enregistrement du départ","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"body":{"email":""},"error":"Données invalides: \"email\" is not allowed to be empty","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"email\" is not allowed to be empty\n    at VisitorService.checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:64:15)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:32:47)\n    at VisitorController.fn [as checkOut] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkOut (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:89:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-out"}
{"duration":"4ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-out"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/style.css"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"test@example.com","societe":"Test Company","visitorId":"f6f90e90-c266-4539-818d-c076902750bd"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/config"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/public"}
{"duration":"9ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/stats"}
{"action":"visitor_checkout","details":{"email":"test@example.com","visitorId":"f6f90e90-c266-4539-818d-c076902750bd"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"dureeVisite":"0h 0m","email":"test@example.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorId":"f6f90e90-c266-4539-818d-c076902750bd"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-out"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/stats"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873985167-633962532.png","timestamp":"2025-07-18T21:26:25.169Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873985167-633962532.png","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/logo"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873985173-72798433.jpg","timestamp":"2025-07-18T21:26:25.177Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873985173-72798433.jpg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/logo"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873985184-578559890.jpeg","timestamp":"2025-07-18T21:26:25.185Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873985184-578559890.jpeg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/logo"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873985188-864930527.gif","timestamp":"2025-07-18T21:26:25.190Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873985188-864930527.gif","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/logo"}
{"action":"logo_updated","details":{"logoPath":"/images/logo-1752873985193-614679354.svg","timestamp":"2025-07-18T21:26:25.195Z"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"level":"info","logoPath":"/images/logo-1752873985193-614679354.svg","message":"Logo mis à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"PUT","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/logo"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/stats"}
{"action":"visitor_checkin","details":{"email":"jean.martin.test1234@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"d6606f05-45ed-492d-8db5-fa264300fabd"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"email":"jean.martin.test1234@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 23:26:25","visitorId":"d6606f05-45ed-492d-8db5-fa264300fabd"}
{"duration":"16ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/config"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:26:25.210Z","updates":{"anonymizationDays":60,"welcomeMessage":"Nouveau message"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25","updates":["welcomeMessage","anonymizationDays"]}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/config"}
{"action":"visitor_checkin","details":{"email":"sophie.freelance.test1234@gmail.com","societe":null,"visitorId":"041563dd-2e12-406c-b73d-173d24298e7d"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"email":"sophie.freelance.test1234@gmail.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 23:26:25","visitorId":"041563dd-2e12-406c-b73d-173d24298e7d"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 23:26:25","updates":{"anonymizationDays":0}}
{"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 23:26:25","updates":{"anonymizationDays":0}}
{"body":{"anonymizationDays":0},"error":"Configuration invalide: Le nombre de jours doit être au moins 1","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: Le nombre de jours doit être au moins 1\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:93:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/config"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/config"}
{"action":"visitor_checkin","details":{"email":"paul.independant.test1234@outlook.com","societe":null,"visitorId":"7c3efe8a-646e-405e-9015-a9a8669b03df"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"email":"paul.independant.test1234@outlook.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 23:26:25","visitorId":"7c3efe8a-646e-405e-9015-a9a8669b03df"}
{"duration":"3ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 23:26:25","updates":{"welcomeMessage":123}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"Erreur lors de la mise à jour de la configuration","service":"visitor-management","timestamp":"2025-07-18 23:26:25","updates":{"welcomeMessage":123}}
{"body":{"welcomeMessage":123},"error":"Configuration invalide: \"welcomeMessage\" must be a string","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"Error: Configuration invalide: \"welcomeMessage\" must be a string\n    at Config.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/models/Config.js:93:13)\n    at ConfigRepository.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/repositories/ConfigRepository.js:40:43)\n    at ConfigService.updateConfig (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:47:29)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:57:27","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/config"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":500,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/config"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"level":"warn","message":"Tous les visiteurs ont été supprimés (fonction de debug)","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/clear-visitors"}
{"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorData":{"email":"email-invalide","nom":"Test","personneVisitee":"Test Manager","prenom":"Invalid","societe":"Test Company","telephone":"06 12 34 56 78"}}
{"action":"visitors_anonymized","details":{"anonymizationDays":30,"anonymizedCount":1},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"anonymizationDays":30,"anonymizedCount":1,"level":"info","message":"Anonymisation des visiteurs terminée","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/anonymize"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/welcome-message"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/visitors/current"}
{"body":{"email":"email-invalide","nom":"Test","personneVisitee":"Test Manager","prenom":"Invalid","societe":"Test Company","telephone":"06 12 34 56 78"},"error":"Données invalides: L'adresse email n'est pas valide","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: L'adresse email n'est pas valide\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"10ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/visitors/history"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"error":"Données invalides: \"nom\" is required","level":"error","message":"Erreur lors de l'enregistrement du visiteur","service":"visitor-management","timestamp":"2025-07-18 23:26:25","visitorData":{"email":"test@example.com","personneVisitee":"Test Manager","prenom":"Test","societe":"Test Company","telephone":"06 12 34 56 78"}}
{"body":{"email":"test@example.com","personneVisitee":"Test Manager","prenom":"Test","societe":"Test Company","telephone":"06 12 34 56 78"},"error":"Données invalides: \"nom\" is required","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Données invalides: \"nom\" is required\n    at VisitorService.checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/VisitorService.js:22:15)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/VisitorController.js:18:47)\n    at VisitorController.fn [as checkIn] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at checkIn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/server.js:79:22)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:129:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/security.js:186:3)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:328:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/index.js:280:10)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:238:16)\n    at done (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"4a8204e2-2211-481e-83dc-7e5a06467fe8"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"65f734e2-11ad-44bf-bf86-e0f97fd3353d"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"43ef2a0d-2812-4fe3-aa53-f866b27867a0"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:26:25.255Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:26:25"}
{"count":3,"daysBack":7,"generated":3,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/generate-test-visitors"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:26:25.258Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:26:25"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"e7f772f4-a465-4edd-8341-5b06e2238577"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"18cdc85a-59d0-4300-a922-b4be74e5f06b"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"30e8754f-637b-428c-a26f-f3df18cf0849"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"maria.garcia@globalservicesinc.com","societe":"Global Services Inc","visitorId":"4c21d91b-c497-4f63-a5af-ebcfa92d85c4"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"alexandre.durand@startup360.com","societe":"StartUp360","visitorId":"87f298b0-7f05-4be2-9436-1e801bc56062"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"claire.dubois@consultingpro.com","societe":"Consulting Pro","visitorId":"b1480754-b604-4e2a-b488-3c652fc60211"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"nicolas.moreau@webagencyplus.com","societe":"WebAgency Plus","visitorId":"26f7e08b-65e3-49a7-bbac-9cad3413841b"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"lisa.bernard@designstudio.com","societe":"Design Studio","visitorId":"e955502d-80f5-42d9-9a8f-15233174e9e3"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"david.petit@mobileappsco.com","societe":"Mobile Apps Co","visitorId":"d21b4106-c324-4245-ba89-e271c9f0e161"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"emma.roux@cloudsystems.com","societe":"Cloud Systems","visitorId":"0ab06346-84b5-46b7-af4a-22117e5f528c"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"count":10,"daysBack":90,"generated":10,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"17ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/generate-test-visitors"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"05385172-ec58-4ba5-88f5-65a8ee67c878"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"count":1,"daysBack":1,"generated":1,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"duration":"6ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/generate-test-visitors"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin.test1752873985288@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"355868ad-5e40-4396-8593-24b53a463c2b"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"email":"jean.martin.test1752873985288@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 23:26:25","visitorId":"355868ad-5e40-4396-8593-24b53a463c2b"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin.test@techsolutions.fr","societe":"Tech Solutions SARL","visitorId":"c962d995-3325-486a-9dc8-cefb7e4aebdc"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"email":"jean.martin.test@techsolutions.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"Tech Solutions SARL","timestamp":"2025-07-18 23:26:25","visitorId":"c962d995-3325-486a-9dc8-cefb7e4aebdc"}
{"duration":"7ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"action":"visitor_checkin","details":{"email":"sophie.freelance.test@gmail.com","societe":null,"visitorId":"87cdcdbc-d727-4e58-a9ad-84da33efcbb5"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"email":"sophie.freelance.test@gmail.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 23:26:25","visitorId":"87cdcdbc-d727-4e58-a9ad-84da33efcbb5"}
{"duration":"8ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"action":"visitor_checkin","details":{"email":"paul.independant.test@outlook.com","societe":null,"visitorId":"c304a293-c183-4a5b-9246-f9561db34f4d"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"email":"paul.independant.test@outlook.com","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":null,"timestamp":"2025-07-18 23:26:25","visitorId":"c304a293-c183-4a5b-9246-f9561db34f4d"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 23:26:25","url":"/api/check-in"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:26:25","userContext":{}}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"body":{"newPin":"123"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/change-pin"}
{"duration":"5ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:26:25.468Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:26:25"}
{"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"body":{"newPin":"1234567"},"error":"Le code PIN doit contenir entre 4 et 6 chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN doit contenir entre 4 et 6 chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:156:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/change-pin"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:26:25.674Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:26:25"}
{"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"Erreur lors du changement de PIN","service":"visitor-management","timestamp":"2025-07-18 23:26:25"}
{"body":{"newPin":"12a4"},"error":"Le code PIN ne peut contenir que des chiffres","level":"error","message":"API Error","method":"POST","service":"visitor-management","stack":"AppError: Le code PIN ne peut contenir que des chiffres\n    at ConfigService._validatePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:161:13)\n    at ConfigService._validatePin [as changePin] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/services/ConfigService.js:106:12)\n    at changePin (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/controllers/ConfigController.js:87:45)\n    at fn (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/src/middleware/errorHandler.js:85:19)\n    at Layer.handle [as handle_request] (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express/lib/router/route.js:149:13)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:877:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/thibaultcholet/Documents/GitHub/thibaultcholet/Context-Engineering-Intro/projets/gestion-visiteurs/node_modules/express-rate-limit/dist/index.cjs:760:5","statusCode":200,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/change-pin"}
{"duration":"2ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":400,"timestamp":"2025-07-18 23:26:25","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:26:25.888Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:26:25"}
{"endpoint":"/api/admin/change-pin","ip":"::ffff:127.0.0.1","level":"warn","message":"Rate limit strict dépassé","service":"visitor-management","timestamp":"2025-07-18 23:26:26"}
{"duration":"1ms","ip":"::ffff:127.0.0.1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":429,"timestamp":"2025-07-18 23:26:26","url":"/api/admin/change-pin"}
{"action":"config_reset","details":{"timestamp":"2025-07-18T21:26:26.092Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:26:26"}
{"duration":"3ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:27:34","url":"/admin.html","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:27:35","url":"/style.css","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:27:35","url":"/app.js","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_verification","details":{"timestamp":"2025-07-18T21:27:38.444Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:27:38"}
{"level":"info","message":"Authentification PIN réussie","service":"visitor-management","timestamp":"2025-07-18 23:27:38"}
{"duration":"3ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:27:38","url":"/api/admin/login","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:27:38","url":"/api/admin/stats","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:27:38","url":"/api/admin/config","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:27:38","url":"/api/admin/visitors/current","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:27:38","url":"/api/admin/visitors/history","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:27:43.812Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:27:43"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:27:43"}
{"duration":"5ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:27:43","url":"/api/admin/change-pin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:27:51.217Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:27:51"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:27:51"}
{"duration":"4ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:27:51","url":"/api/admin/change-pin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:27:56.248Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:27:56"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:27:56"}
{"duration":"4ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:27:56","url":"/api/admin/change-pin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:28:05.738Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:28:05"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:28:05"}
{"duration":"5ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:05","url":"/api/admin/change-pin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"pin_changed","details":{"timestamp":"2025-07-18T21:28:11.639Z"},"level":"warn","message":"Admin access","service":"visitor-management","success":true,"timestamp":"2025-07-18 23:28:11"}
{"level":"info","message":"Code PIN changé avec succès","service":"visitor-management","timestamp":"2025-07-18 23:28:11"}
{"duration":"4ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:11","url":"/api/admin/change-pin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"config_updated","details":{"timestamp":"2025-07-18T21:28:14.797Z","updates":{"anonymizationDays":30,"welcomeMessage":"Bienvenue dans notre entreprise"}},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:14","userContext":{}}
{"level":"info","message":"Configuration mise à jour avec succès","service":"visitor-management","timestamp":"2025-07-18 23:28:14","updates":["anonymizationDays","welcomeMessage"]}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:14","url":"/api/admin/config","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"visitor_checkin","details":{"email":"alexandre.durand.test1752874101439@startup360.fr","societe":"StartUp360","visitorId":"2b4d0afb-b637-459b-b1c0-86a15a982eca"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:21","userContext":{}}
{"email":"alexandre.durand.test1752874101439@startup360.fr","level":"info","message":"Visiteur enregistré avec succès","service":"visitor-management","societe":"StartUp360","timestamp":"2025-07-18 23:28:21","visitorId":"2b4d0afb-b637-459b-b1c0-86a15a982eca"}
{"duration":"8ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":201,"timestamp":"2025-07-18 23:28:21","url":"/api/check-in","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:22","url":"/api/admin/stats","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:22","url":"/api/admin/config","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:22","url":"/api/admin/visitors/current","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:22","url":"/api/admin/visitors/history","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"0cd6f6cc-97d2-4061-a744-3ce8f0c1a0fa"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"d63ef98a-65e0-4bbb-881a-2308a9fb11ae"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"61c67357-4a54-424e-8452-420e3d0f4b2f"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"maria.garcia@globalservicesinc.com","societe":"Global Services Inc","visitorId":"6220cf7e-6ec2-4dd8-a6ab-c751f82da1e1"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"alexandre.durand@startup360.com","societe":"StartUp360","visitorId":"efe3eb85-4a95-486b-b64b-ef01080c8928"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"claire.dubois@consultingpro.com","societe":"Consulting Pro","visitorId":"baaf7cb0-bde4-436a-bf3c-34f19032d02e"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"nicolas.moreau@webagencyplus.com","societe":"WebAgency Plus","visitorId":"ae8419cd-0be3-46a0-8b0f-8aea57a09b8c"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"lisa.bernard@designstudio.com","societe":"Design Studio","visitorId":"45924731-824f-44c7-a000-53d557fa86f9"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"david.petit@mobileappsco.com","societe":"Mobile Apps Co","visitorId":"98f99236-f065-41d0-aa43-e321efbb36a6"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"emma.roux@cloudsystems.com","societe":"Cloud Systems","visitorId":"0236b03f-910a-4bb9-85e8-477366efca85"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"paul.fournier@airesearchlab.com","societe":"AI Research Lab","visitorId":"471840bc-10b7-4ad0-89dd-342f86462f7c"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"julie.girard@dataanalytics.com","societe":"Data Analytics","visitorId":"3dedb720-38c6-41b9-b60f-3ca49247c02b"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"marc.bonnet@cybersecurity.com","societe":"Cyber Security","visitorId":"774d0746-33ad-4bdf-bcdb-9a867e1f798e"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sarah.dupont@e-commercehub.com","societe":"E-commerce Hub","visitorId":"dd543bca-b036-447c-b83f-a862340dae14"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"antoine.lambert@fintechsolutions.com","societe":"Fintech Solutions","visitorId":"a84b3497-1366-4d93-91e4-7bae80c3da3f"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"434ad006-1eb4-4617-9e63-825ece8844ec"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"94cf162a-0c45-4023-b59a-d1b98e5759f1"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"73a9655c-7ae4-442f-be33-2b6b58dc256c"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"maria.garcia@globalservicesinc.com","societe":"Global Services Inc","visitorId":"e5e76d84-a6f5-4471-b8af-e5d12656de9d"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"alexandre.durand@startup360.com","societe":"StartUp360","visitorId":"56915259-152b-485e-8cf2-1e41c4c2391d"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"claire.dubois@consultingpro.com","societe":"Consulting Pro","visitorId":"4cc35f6f-76d6-48c2-9cb6-000d1149e06d"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"nicolas.moreau@webagencyplus.com","societe":"WebAgency Plus","visitorId":"4a961eb7-02fd-42e2-8828-8cf0914c7112"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"lisa.bernard@designstudio.com","societe":"Design Studio","visitorId":"1998dc47-ec07-4509-a207-e3f1582a6854"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"david.petit@mobileappsco.com","societe":"Mobile Apps Co","visitorId":"a6f2bc4d-be23-4d01-944b-d1f7ac6d600d"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"emma.roux@cloudsystems.com","societe":"Cloud Systems","visitorId":"e5834bb0-117d-4bf8-a320-84b127a87b02"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"paul.fournier@airesearchlab.com","societe":"AI Research Lab","visitorId":"77d90a62-c8a9-4e96-8f09-9b930c035d30"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"julie.girard@dataanalytics.com","societe":"Data Analytics","visitorId":"21f30347-9301-446e-8fc7-aa97a9485c85"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"marc.bonnet@cybersecurity.com","societe":"Cyber Security","visitorId":"8d7bc929-b1ba-401a-86cc-6b47afa86b3c"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sarah.dupont@e-commercehub.com","societe":"E-commerce Hub","visitorId":"3aba819c-f369-4710-b48a-1f27e17bd646"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"antoine.lambert@fintechsolutions.com","societe":"Fintech Solutions","visitorId":"6fdff71c-dfbe-4804-a883-a65ce5860086"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"3b6d4a0d-9dbf-42a8-9548-b870959c9b83"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"c6dde612-b193-4c39-8a8b-153c088c64ef"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"da500d37-eae2-46d8-8989-6537ef454142"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"maria.garcia@globalservicesinc.com","societe":"Global Services Inc","visitorId":"b82c6fd3-dbdc-4cad-a045-d9666b4cd934"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"alexandre.durand@startup360.com","societe":"StartUp360","visitorId":"1480d97e-11d8-4939-a1bc-553eda708631"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"claire.dubois@consultingpro.com","societe":"Consulting Pro","visitorId":"4a429c48-08ca-4a62-a9fb-8d3faf3bca03"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"nicolas.moreau@webagencyplus.com","societe":"WebAgency Plus","visitorId":"d45a5792-5266-44bd-83e0-863f2c2004a6"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"lisa.bernard@designstudio.com","societe":"Design Studio","visitorId":"c0d90f63-dd9c-4011-89f8-1cb1020febce"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"david.petit@mobileappsco.com","societe":"Mobile Apps Co","visitorId":"29ead88d-4b41-4b98-90cb-ed5eb8938c62"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"emma.roux@cloudsystems.com","societe":"Cloud Systems","visitorId":"7566906a-973c-4823-919b-7243423c0f02"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"paul.fournier@airesearchlab.com","societe":"AI Research Lab","visitorId":"5eeb2c8b-9b6f-44d0-8738-29e4052f3a73"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"julie.girard@dataanalytics.com","societe":"Data Analytics","visitorId":"262d8b93-bc6c-491d-bcf5-416b67ea94b7"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"marc.bonnet@cybersecurity.com","societe":"Cyber Security","visitorId":"17a880a0-5c22-4ed9-8474-03299ce2c144"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sarah.dupont@e-commercehub.com","societe":"E-commerce Hub","visitorId":"62d5434b-9c03-4821-af18-5540df79b56b"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"antoine.lambert@fintechsolutions.com","societe":"Fintech Solutions","visitorId":"4097b3a2-aba1-4022-a67a-23bd0f41ced9"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"e4b4c9c4-323d-424f-af52-7ec0a024daf9"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"1d3c774e-e4a5-4bcc-bc8a-859532356827"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"3f573921-bbd5-4652-ae18-eaa7f09ecfb4"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"maria.garcia@globalservicesinc.com","societe":"Global Services Inc","visitorId":"754ca486-b35a-48c2-a4ab-4854308f5e26"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"alexandre.durand@startup360.com","societe":"StartUp360","visitorId":"546bfab6-8fc2-4fb0-968e-a21121dad33b"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"claire.dubois@consultingpro.com","societe":"Consulting Pro","visitorId":"cea9ad25-d84b-4c78-a3f0-d0bc621ecf97"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"nicolas.moreau@webagencyplus.com","societe":"WebAgency Plus","visitorId":"69f31c5b-1f69-4ada-835e-9e8f0de4453a"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"lisa.bernard@designstudio.com","societe":"Design Studio","visitorId":"17d9eefc-a5de-4fd2-bd24-83a254a1c559"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"david.petit@mobileappsco.com","societe":"Mobile Apps Co","visitorId":"535ca8ee-a91f-40f9-9986-3552ddb4d059"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"emma.roux@cloudsystems.com","societe":"Cloud Systems","visitorId":"1f681ac0-8f45-448a-81df-a66fbdecc6ba"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"paul.fournier@airesearchlab.com","societe":"AI Research Lab","visitorId":"1d7c9139-6b7d-458c-b111-5879641a0d02"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"julie.girard@dataanalytics.com","societe":"Data Analytics","visitorId":"885524ac-2015-4349-80cb-9c5337d55325"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"marc.bonnet@cybersecurity.com","societe":"Cyber Security","visitorId":"7984522f-8caf-4ba8-8f57-354e7a46fc36"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sarah.dupont@e-commercehub.com","societe":"E-commerce Hub","visitorId":"4b0aacc9-be33-4456-b47a-ee12e356e9a3"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"antoine.lambert@fintechsolutions.com","societe":"Fintech Solutions","visitorId":"03591f89-87ac-40c3-809c-eaef4846fda0"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"7cfdf6a0-6005-44e8-af52-2c9818bb1921"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"e9898887-43c9-482b-8618-96a9975b8e77"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"b96c703c-4777-48d2-976f-b33d3d9489d7"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"maria.garcia@globalservicesinc.com","societe":"Global Services Inc","visitorId":"c2024fff-0c29-46d7-a438-44ea13cc0057"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"alexandre.durand@startup360.com","societe":"StartUp360","visitorId":"ca3314bb-2fe1-441f-8f47-1753ba7f12e5"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"claire.dubois@consultingpro.com","societe":"Consulting Pro","visitorId":"8c3558a8-d1a6-4486-a3e4-f09c99b1a121"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"nicolas.moreau@webagencyplus.com","societe":"WebAgency Plus","visitorId":"aab1cf23-7415-4cb8-bcb1-e357afa5816e"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"lisa.bernard@designstudio.com","societe":"Design Studio","visitorId":"6c08aad7-f0bc-432e-9691-799c3895f123"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"david.petit@mobileappsco.com","societe":"Mobile Apps Co","visitorId":"50d67ee4-cdf7-49a7-8e17-401818a0d7ae"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"emma.roux@cloudsystems.com","societe":"Cloud Systems","visitorId":"cb9a4482-9898-4f5b-a245-7f6a3e091cab"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"paul.fournier@airesearchlab.com","societe":"AI Research Lab","visitorId":"922fc761-8f1d-4cde-9212-ba8ea1712dda"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"julie.girard@dataanalytics.com","societe":"Data Analytics","visitorId":"2ad297f0-dc4c-4a4f-ba4c-554fc5190372"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"marc.bonnet@cybersecurity.com","societe":"Cyber Security","visitorId":"ca6fd92b-74f1-4b61-b5af-71258fa976fd"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sarah.dupont@e-commercehub.com","societe":"E-commerce Hub","visitorId":"2582d3c1-ad6b-4f06-8967-efda4e1a04ba"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"antoine.lambert@fintechsolutions.com","societe":"Fintech Solutions","visitorId":"2ce71bbd-2037-4f04-b398-f43d17fe0766"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"c9f5822c-3997-4023-80ff-827ac1aaf19c"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"8b1c51ea-e4c5-428e-8afa-4e0f844db680"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"0ea6d47a-f70e-4126-99ad-5e713a14167b"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"maria.garcia@globalservicesinc.com","societe":"Global Services Inc","visitorId":"ccefc830-155a-4810-9e66-281f9668cf36"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"alexandre.durand@startup360.com","societe":"StartUp360","visitorId":"c6ad5fe9-b650-45e6-abdc-a8b6dd723906"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"claire.dubois@consultingpro.com","societe":"Consulting Pro","visitorId":"e28632d1-1109-4083-82b0-82bcdbd9cf34"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"nicolas.moreau@webagencyplus.com","societe":"WebAgency Plus","visitorId":"987eebe0-c034-4c7c-83eb-3fb617657ff1"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"lisa.bernard@designstudio.com","societe":"Design Studio","visitorId":"1822c697-d0f3-414f-852e-1274f9784571"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"david.petit@mobileappsco.com","societe":"Mobile Apps Co","visitorId":"2e848822-4b19-4d8c-bcc3-165463c6adf1"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"emma.roux@cloudsystems.com","societe":"Cloud Systems","visitorId":"2eb0fd5f-7b30-4714-87f2-d4bcc56a0bbd"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"paul.fournier@airesearchlab.com","societe":"AI Research Lab","visitorId":"17b64780-6c90-427c-ae28-650c63599515"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"julie.girard@dataanalytics.com","societe":"Data Analytics","visitorId":"d97e8241-3cc5-40c3-84c3-a4f9fbe809a0"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"marc.bonnet@cybersecurity.com","societe":"Cyber Security","visitorId":"f8308c22-e179-4f50-8acc-29aec87456ee"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sarah.dupont@e-commercehub.com","societe":"E-commerce Hub","visitorId":"95e0bea7-5548-4582-acee-375595ef73b3"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"antoine.lambert@fintechsolutions.com","societe":"Fintech Solutions","visitorId":"c9f36c31-5348-45e8-9bda-6523d4fdb6fd"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"jean.martin@techsolutionssarl.com","societe":"Tech Solutions SARL","visitorId":"d4a11897-acf1-43ed-ab4c-bab28a601e97"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"sophie.lefebvre@digitalconsulting.com","societe":"Digital Consulting","visitorId":"c6889601-fdbf-43a1-801a-c5afacf4137d"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"thomas.rousseau@innovationlabs.com","societe":"Innovation Labs","visitorId":"026fe512-a9fd-4ad2-895c-ee67d2c9c007"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"maria.garcia@globalservicesinc.com","societe":"Global Services Inc","visitorId":"6cb1bdb7-ec91-4836-a18e-1f073d3c1973"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"alexandre.durand@startup360.com","societe":"StartUp360","visitorId":"5017aa6f-1502-4b75-8fb6-e0815939fdb8"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"claire.dubois@consultingpro.com","societe":"Consulting Pro","visitorId":"96fcd19c-f486-4fd5-8567-a5b804a03a8c"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"nicolas.moreau@webagencyplus.com","societe":"WebAgency Plus","visitorId":"c363882f-9067-4e1c-8f56-1c7c999bb617"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"lisa.bernard@designstudio.com","societe":"Design Studio","visitorId":"4d05fb9d-1bbb-416e-a8b1-d62e7741b513"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"david.petit@mobileappsco.com","societe":"Mobile Apps Co","visitorId":"cce77fa8-4f40-48f7-9381-0bc0cb043414"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"action":"visitor_checkin","details":{"email":"emma.roux@cloudsystems.com","societe":"Cloud Systems","visitorId":"2b443fb0-bb51-4171-9ae6-d1f74ae8af6b"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:35","userContext":{}}
{"count":100,"daysBack":365,"generated":100,"level":"info","message":"Visiteurs de test générés","service":"visitor-management","timestamp":"2025-07-18 23:28:35"}
{"duration":"91ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:35","url":"/api/admin/generate-test-visitors","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"3ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:36","url":"/api/admin/stats","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:28:36","url":"/api/admin/config","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:36","url":"/api/admin/visitors/current","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:36","url":"/api/admin/visitors/history","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"visitor_checkout","details":{"email":"alexandre.durand.test1752874101439@startup360.fr","visitorId":"2b4d0afb-b637-459b-b1c0-86a15a982eca"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:52","userContext":{}}
{"dureeVisite":"0h 0m","email":"alexandre.durand.test1752874101439@startup360.fr","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 23:28:52","visitorId":"2b4d0afb-b637-459b-b1c0-86a15a982eca"}
{"duration":"4ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:52","url":"/api/check-out","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:53","url":"/api/admin/stats","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:28:53","url":"/api/admin/config","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:53","url":"/api/admin/visitors/current","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:53","url":"/api/admin/visitors/history","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"visitor_checkout","details":{"email":"lisa.bernard@designstudio.com","visitorId":"c0d90f63-dd9c-4011-89f8-1cb1020febce"},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:28:56","userContext":{}}
{"dureeVisite":"3552h 0m","email":"lisa.bernard@designstudio.com","level":"info","message":"Visiteur parti avec succès","service":"visitor-management","timestamp":"2025-07-18 23:28:56","visitorId":"c0d90f63-dd9c-4011-89f8-1cb1020febce"}
{"duration":"4ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:56","url":"/api/check-out","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:57","url":"/api/admin/stats","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:28:57","url":"/api/admin/config","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:57","url":"/api/admin/visitors/current","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:28:57","url":"/api/admin/visitors/history","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"action":"visitors_clear_all","details":{},"level":"info","message":"User action","service":"visitor-management","timestamp":"2025-07-18 23:29:10","userContext":{}}
{"level":"warn","message":"Tous les visiteurs ont été supprimés (fonction de debug)","service":"visitor-management","timestamp":"2025-07-18 23:29:10"}
{"duration":"3ms","ip":"::1","level":"info","message":"Requête HTTP","method":"POST","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:29:10","url":"/api/admin/clear-visitors","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:29:11","url":"/api/admin/stats","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:29:11","url":"/api/admin/config","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:29:11","url":"/api/admin/visitors/current","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:29:11","url":"/api/admin/visitors/history","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:29:14","url":"/","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:29:14","url":"/images/logo.png","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:29:14","url":"/style.css","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"4ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:29:14","url":"/images/logo.png","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-18 23:29:14","url":"/app.js","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"2ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":200,"timestamp":"2025-07-18 23:29:14","url":"/api/welcome-message","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"4ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-19 12:15:42","url":"/","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"0ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-19 12:15:42","url":"/images/logo.png","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-19 12:15:43","url":"/style.css","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"1ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-19 12:15:43","url":"/app.js","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"duration":"14ms","ip":"::1","level":"info","message":"Requête HTTP","method":"GET","service":"visitor-management","statusCode":304,"timestamp":"2025-07-19 12:15:43","url":"/api/welcome-message","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
